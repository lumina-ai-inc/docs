---
title: Basic Task Handling
sidebarTitle: Task handling
description: "Upload files, check their status, and retrieve processed results"
---

## Creating Tasks

You can create a task by uploading a file from multiple sources. The SDK provides flexible methods for task creation with different processing configurations.

- `client.tasks.parse.create()`: Submits the file for processing and returns a task object immediately
- `client.tasks.get()`: Retrieves task status and results, with optional automatic polling

### Complete Processing with Auto-Polling

Use `wait_for_completion=True` to automatically wait for results.

<CodeGroup>
```python Python
from chunkr_ai import Chunkr

client = Chunkr(
    api_key="your_api_key"  # Optional if CHUNKR_API_KEY env var is set
)

# Create task and wait for completion
task = client.tasks.parse.create(
    file="https://example.com/document.pdf"
)

# Get results with automatic polling
task = client.tasks.get(
    task_id=task.task_id,
    wait_for_completion=True
)

# All processing is done - access results immediately
print(task.status)  # Will be "Succeeded"
print(f"Found {len(task.output.chunks)} chunks")
```

```typescript TypeScript
import ChunkrAI from 'chunkr-ai';

const client = new ChunkrAI({
  apiKey: 'your_api_key' // Optional if CHUNKR_API_KEY env var is set
});

// Create task from URL
const task = await client.tasks.parse.create({
  file: 'https://example.com/document.pdf'
});

// Get results with automatic polling
const result = await client.tasks.get(task.taskId, {
  waitForCompletion: true
});

console.log(result.status); // Will be "Succeeded"
console.log(`Found ${result.output.chunks.length} chunks`);
```

```bash cURL
# 1. Create a task
curl -X POST https://api.chunkr.ai/api/v1/tasks/parse \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "file": "https://example.com/document.pdf"
  }'

# Response: {"task_id": "task_123", "status": "Starting"}

# 2. Poll for completion (repeat until status is "Succeeded")
curl -X GET "https://api.chunkr.ai/api/v1/tasks/task_123" \
  -H "Authorization: Bearer YOUR_API_KEY"

# When succeeded, response will include chunks
```
</CodeGroup>

### Instant Response with Manual Polling

Create tasks without blocking execution for asynchronous applications.

<CodeGroup>
```python Python
from chunkr_ai import Chunkr
import time

client = Chunkr()

# Create task without waiting
task = client.tasks.parse.create(
    file="https://example.com/document.pdf"
)

# Task is created but processing may not be complete
print(f"Task ID: {task.task_id}")
print(f"Status: {task.status}")  # Might be "Starting" or "Processing"

# Do other work...

# Check status manually when needed
while True:
    task = client.tasks.get(task_id=task.task_id)
    if task.status in ["Succeeded", "Failed", "Cancelled"]:
        break
    time.sleep(2)  # Wait before checking again

if task.status == "Succeeded":
    print(f"Found {len(task.output.chunks)} chunks")
```

```typescript TypeScript
import ChunkrAI from 'chunkr-ai';

const client = new ChunkrAI();

// Create task without waiting
const task = await client.tasks.parse.create({
  file: 'https://example.com/document.pdf'
});

console.log(`Task ID: ${task.taskId}`);
console.log(`Status: ${task.status}`); // Might be "Starting"

// Check status manually when needed
let result;
do {
  await new Promise(resolve => setTimeout(resolve, 2000)); // Wait 2 seconds
  result = await client.tasks.get(task.taskId);
} while (!['Succeeded', 'Failed', 'Cancelled'].includes(result.status));

if (result.status === 'Succeeded') {
  console.log(`Found ${result.output.chunks.length} chunks`);
}
```

```bash cURL
# 1. Create a task
curl -X POST https://api.chunkr.ai/api/v1/tasks/parse \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "file": "https://example.com/document.pdf"
  }'

# Response: {"task_id": "task_123", "status": "Starting"}

# 2. Manually poll for status
while true; do
  curl -X GET "https://api.chunkr.ai/api/v1/tasks/task_123" \
    -H "Authorization: Bearer YOUR_API_KEY"
  sleep 2
done
```
</CodeGroup>

### Supported Input Sources

The SDK automatically handles various input types:

<CodeGroup>
```python Python
from chunkr_ai import Chunkr

client = Chunkr()

# From a URL
task = client.tasks.parse.create(
    file="https://example.com/document.pdf"
)

# From a local file
with open("document.pdf", "rb") as f:
    # First upload the file
    uploaded_file = client.files.create(file=f)
    # Then create a task with the uploaded file URL
    task = client.tasks.parse.create(
        file=uploaded_file.url
    )

# From a base64 string
import base64
with open("document.pdf", "rb") as f:
    base64_string = base64.b64encode(f.read()).decode("utf-8")
    task = client.tasks.parse.create(
        file=f"data:application/pdf;base64,{base64_string}"
    )
```

```typescript TypeScript
import ChunkrAI from 'chunkr-ai';
import fs from 'fs';

const client = new ChunkrAI();

// From a URL
const task1 = await client.tasks.parse.create({
  file: 'https://example.com/document.pdf'
});

// From a local file
const fileStream = fs.createReadStream('./document.pdf');
const uploadedFile = await client.files.create({ 
  file: fileStream 
});
const task2 = await client.tasks.parse.create({
  file: uploadedFile.url
});

// From a File object (browser)
const file = new File(['file contents'], 'document.pdf');
const uploaded = await client.files.create({ file });
const task3 = await client.tasks.parse.create({
  file: uploaded.url
});
```

```bash cURL
# From a URL
curl -X POST https://api.chunkr.ai/api/v1/tasks/parse \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "file": "https://example.com/document.pdf"
  }'

# From a local file (requires two steps)
# Step 1: Upload the file
curl -X POST https://api.chunkr.ai/api/v1/files \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -F "file=@document.pdf"

# Response: {"url": "https://storage.chunkr.ai/file_123"}

# Step 2: Create task with uploaded file URL
curl -X POST https://api.chunkr.ai/api/v1/tasks/parse \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "file": "https://storage.chunkr.ai/file_123"
  }'

# From a base64 string
curl -X POST https://api.chunkr.ai/api/v1/tasks/parse \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "file": "data:application/pdf;base64,JVBERi0xLjQKJeLj..."
  }'
```
</CodeGroup>

### Common Configuration Options

You can customize task processing with a few simple parameters:

<CodeGroup>
```python Python
from chunkr_ai import Chunkr

client = Chunkr()

# Simple configuration example
task = client.tasks.parse.create(
    file="https://example.com/document.pdf",
    
    # Set target chunk size (optional)
    target_chunk_length=500,
    
    # Auto-delete data after processing (optional)
    expires_in=3600  # Delete after 1 hour
)
```

```typescript TypeScript
import ChunkrAI from 'chunkr-ai';

const client = new ChunkrAI();

// Simple configuration example
const task = await client.tasks.parse.create({
    file: 'https://example.com/document.pdf',
    
    // Set target chunk size (optional)
    targetChunkLength: 500,
    
    // Auto-delete data after processing (optional)
    expiresIn: 3600  // Delete after 1 hour
});
```

```bash cURL
curl -X POST https://api.chunkr.ai/api/v1/tasks/parse \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "file": "https://example.com/document.pdf",
    "target_chunk_length": 500,
    "expires_in": 3600
  }'
```
</CodeGroup>

For detailed configuration options, see the [Parse Configuration](/docs/advanced/parse/configuration) documentation.

---

## Reading Tasks

Retrieve information for any task using its `task_id`. This is useful for checking the status or accessing results of previously created tasks.

<CodeGroup>
```python Python
from chunkr_ai import Chunkr

client = Chunkr()

# Get task by ID
task = client.tasks.get(task_id="task_123")

# Access task information
print(f"Status: {task.status}")
if task.status == "Succeeded":
    print(f"Chunks: {len(task.output.chunks)}")
    for chunk in task.output.chunks[:5]:  # First 5 chunks
        print(f"- {chunk.text[:100]}...")
```

```typescript TypeScript
import ChunkrAI from 'chunkr-ai';

const client = new ChunkrAI();

// Get task by ID
const task = await client.tasks.get('task_123');

// Access task information
console.log(`Status: ${task.status}`);
if (task.status === 'Succeeded') {
    console.log(`Chunks: ${task.output.chunks.length}`);
    task.output.chunks.slice(0, 5).forEach(chunk => {
        console.log(`- ${chunk.text.substring(0, 100)}...`);
    });
}
```

```bash cURL
# Get task by ID
curl -X GET "https://api.chunkr.ai/api/v1/tasks/task_123" \
  -H "Authorization: Bearer YOUR_API_KEY"

# Response includes status and chunks if succeeded
# Parse the JSON response to extract status and chunks
```
</CodeGroup>

---

## Asynchronous Processing (Python)

For Python applications that require non-blocking operations, you can use the `AsyncChunkr` client instead of `Chunkr`. The async client provides the exact same methods and parameters, but all operations are awaitable.

<CodeGroup>
```python Python
import asyncio
from chunkr_ai import AsyncChunkr

async def process_document():
    # Use AsyncChunkr instead of Chunkr
    client = AsyncChunkr(
        api_key="your_api_key"
    )
    
    # All methods are the same, just add 'await'
    task = await client.tasks.parse.create(
        file="https://example.com/document.pdf"
    )
    
    # Get results with automatic polling (awaitable)
    task = await client.tasks.get(
        task_id=task.task_id,
        wait_for_completion=True
    )
    
    print(f"Processed {len(task.output.chunks)} chunks")

# Run with asyncio
asyncio.run(process_document())
```
</CodeGroup>

**Key points about async processing:**
- Import `AsyncChunkr` instead of `Chunkr`
- Use `await` before all client method calls
- All method names and parameters remain exactly the same
- Perfect for applications already using `asyncio` or handling multiple concurrent operations

This means you don't need to learn a different API - just switch the client class and add `await` to your calls.

---

## Data Storage & Zero Data Retention (ZDR)

While we store all outputs, original files, and image crops, we don't recommend using Chunkr as a storage system.

The best way to use Chunkr is solely as a processing engine. For security and privacy, use the `expires_in` parameter to automatically delete all task data from Chunkr's servers after processing.

Here's an example config that sets the data to expire in 1 second for Zero Data Retention:

<CodeGroup>
```python Python
from chunkr_ai import Chunkr

client = Chunkr()

# Set expires_in to 1 second for Zero Data Retention (ZDR)
# Task data will be deleted from Chunkr almost immediately after processing
task = client.tasks.parse.create(
    file="https://example.com/document.pdf",
    expires_in=1  # Delete after 1 second
)

# Get results immediately before deletion
task = client.tasks.get(
    task_id=task.task_id,
    wait_for_completion=True
)

# The task object contains the results, but the data will be
# deleted from Chunkr's servers shortly
print(f"Status: {task.status}")
```

```typescript TypeScript
import ChunkrAI from 'chunkr-ai';

const client = new ChunkrAI();

// Set expiresIn to 1 second for Zero Data Retention (ZDR)
const task = await client.tasks.parse.create({
    file: 'https://example.com/document.pdf',
    expiresIn: 1  // Delete after 1 second
});

// Get results immediately before deletion
const result = await client.tasks.get(task.taskId, {
    waitForCompletion: true
});

console.log(`Status: ${result.status}`);
```

```bash cURL
curl -X POST https://api.chunkr.ai/api/v1/tasks/parse \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "file": "https://example.com/document.pdf",
    "expires_in": 1
  }'
```
</CodeGroup>

---

## Advanced Features

While creating and reading tasks are the most common operations, Chunkr also provides functionality for more advanced task management:

- **Update Tasks**: Modify the configuration of a task after it has been created to re-process with different settings
- **Delete Tasks**: Permanently remove completed or failed tasks to clean up your workspace
- **Cancel Tasks**: Stop a queued task before it begins processing if it's no longer needed

For detailed information on these operations, see the respective documentation sections.